!function(){var e="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",t="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+e,n="https://image.tmdb.org/t/p/w500",o=document.getElementById("myModal"),d=document.getElementById("modal-poster"),i=document.getElementById("modal-title"),a=document.getElementById("modal-vote"),c=document.getElementById("modal-popularity"),l=document.getElementById("modal-original-title"),s=document.getElementById("modal-genre"),r=document.getElementById("modal-overview"),m=document.getElementById("addToWatchedBtn"),u=document.getElementById("addToQueuBtn");function g(){o.style.display="none"}document.getElementsByClassName("close")[0].addEventListener("click",g),window.addEventListener("click",(function(e){e.target===o&&g()}));var v,h=document.getElementById("main"),p=document.getElementById("search-form"),f=document.getElementById("search-input"),y=(document.getElementById("gallery"),document.querySelector(".loader-container")),E=document.getElementById("prev"),L=document.getElementById("next"),b=document.getElementById("current"),I=1,B=2,k=3,S="",w=100,C=[],_=[];function x(e){S=e,h.classList.toggle("is-hidden"),y.classList.toggle("is-hidden"),fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e.results),0!==e.results.length?(!function(e){h.innerHTML="",e.forEach((function(e){var t=e.title,m=e.poster_path,u=e.release_date,g=document.createElement("div");g.classList.add("movie"),g.innerHTML='\n            <img src="'.concat(m?n+m:"http:/>/via.placeholder.com/1080x1500",'"\n                alt="').concat(t,'"/>\n            \n            <div class="movie-info">\n                <h3>').concat(t,'</h3>\n                <div class="movie-details">\n                    <span id="release_date" class="').concat(u,'">').concat(u,"</span>\n                </div>\n            </div>        \n        "),g.addEventListener("click",(function(){!function(e){d.src="https://image.tmdb.org/t/p/w500/".concat(e.poster_path),i.textContent=e.title,a.textContent=e.vote_average+"/"+e.vote_count,c.textContent=e.popularity,l.textContent=e.original_title,s.textContent=e.genre,r.textContent=e.overview,o.style.display="block"}(e)})),h.appendChild(g)}))}(e.results),I=e.page,B=I+1,k=I-1,w=e.total_pages,h.classList.toggle("is-hidden"),y.classList.toggle("is-hidden"),b.innerText=I,I<=1?(E.classList.add("disabled"),L.classList.remove("disabled")):I>=w?(E.classList.remove("disabled"),L.classList.add("disabled")):(E.classList.remove("disabled"),L.classList.remove("disabled"))):(h.classList.toggle("is-hidden"),y.classList.toggle("is-hidden"),h.innerHTML='<h1 class="no-results">No Results Found</h1>')}))}function T(e){var t=S.split("?"),n=t[1].split("&"),o=n[n.length-1].split("=");if("page"!=o[0]){x(S+"&page="+e)}else{o[1]=e.toString();var d=o.join("=");n[n.length-1]=d;var i=n.join("&");x(t[0]+"?"+i)}}function q(e){var t=document.createElement("div");return t.classList.add("movie"),t.innerHTML="\n        <h3>".concat(e,"</h3>\n        <button onclick=\"removeFromLibrary('").concat(e,"', 'watched')\">Remove from Watched</button>\n        <button onclick=\"removeFromLibrary('").concat(e,"', 'queue')\">Remove from Queue</button>\n    "),t}localStorage.setItem("movie-queue",JSON.stringify(C)),localStorage.setItem("movie-watched",JSON.stringify(_)),x(t),p.addEventListener("submit",(function(e){e.preventDefault();var n=f.value;x(n?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+n:t)})),E.addEventListener("click",(function(){k>0&&T(k)})),L.addEventListener("click",(function(){B<=w&&T(B)})),h.addEventListener("click",(function(e){var t=e.target.parentElement;v=t.lastElementChild.firstElementChild.innerText,console.log(v)})),m.addEventListener("click",(function(){_.includes(v)?alert("".concat(v," has been watched already")):_.push(v),localStorage.setItem("movie-watched",JSON.stringify(_))})),u.addEventListener("click",(function(){C.includes(v)?alert("".concat(v," has been added to the queue already")):C.push(v),localStorage.setItem("movie-queue",JSON.stringify(C))})),document.body.addEventListener("keydown",(function(e){"Escape"===e.code&&g()})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".header-link.libr").addEventListener("click",(function(){document.getElementById("main").removeAttribute("id")}))}));var M=document.getElementById("watched-btn"),N=document.getElementById("queue-btn");function O(){var e=JSON.parse(localStorage.getItem("movie-watched"))||[],t=document.getElementById("movies-container");t.innerHTML="",e.forEach((function(e){var n=q(e);t.appendChild(n)}))}function H(){var e=JSON.parse(localStorage.getItem("movie-queue"))||[],t=document.getElementById("movies-container");t.innerHTML="",e.forEach((function(e){var n=q(e);t.appendChild(n)}))}M.addEventListener("click",O),N.addEventListener("click",H)}();
//# sourceMappingURL=index.37a40f93.js.map
